# AtCoder Test Editor

## 概要

このプロジェクトは、AtCoderのコンテスト問題を解く際のテストケースを管理するためのWebアプリケーションです。

## 技術スタック

*   **フロントエンド:** React (Create React App), Material-UI, react-transition-group, Monaco Editor
*   **バックエンド:** Node.js, Express
*   **データストレージ:** ローカルファイルシステム

## 機能

### テストケースエディタ

*   コンテスト名と問題名を指定して、関連するテストケースの一覧を**すべて一度に表示**します。
*   テストケースの入力・出力の内容を直接編集できます。
*   **5秒ごとに自動保存**されます（変更があった場合のみ）。
*   `Ctrl+S` / `Cmd+S` で、変更されたすべてのサンプルを保存します。
*   入力・出力の末尾に改行がない場合、自動的に追加されます。
*   新しいテストケースを作成できます。**既存のサンプル名と重複する場合は警告が表示されます。**
*   テストケースの入力・出力の編集にはMonaco Editorを使用しており、エディタのデザインが調整されています。
*   エディタのハイライトとサジェスト機能はオフになっています。
*   **サンプル名の変更**ができます。**既存のサンプル名と重複する場合は変更できません。**
*   **サンプルの削除**ができます。
*   **サンプルの複製**ができます。
*   サンプルの追加・複製・削除時にスムーズなアニメーションが表示されます。

### グリッドエディタ
競プロに特化したグリッドエディタ。

*   指定された高さと幅で空のグリッドを生成します（初期値は `.`）。
*   グリッドの初期サイズは `(6,8)` です。
*   グリッドのサイズを変更しても、既存のグリッド内容は初期化されません。
*   グリッドの正方形間の隙間をなくしました。
*   グリッド上の文字が選択されて青くなる現象（テキスト選択）を防ぎました。
*   文字入力とマウスドラッグによるグリッドの更新が可能です。高速なマウス移動でも描画が途切れません。
*   右クリックでグリッドのセルを `.` にする消しゴム機能を追加し、右クリックドラッグにも対応しました。
*   デフォルトの選択文字は `#` です。
*   高さと幅の入力フィールドでEnterキーを押すとグリッドが更新されます。
*   グリッドを初期状態（すべて `.`）に戻すクリアボタンがあります。
*   生成されたグリッドをAtCoder形式（`H W\nグリッド文字列`）で表示し、コピーボタンでクリップボードにコピーできます。コピーされる文字列の末尾には改行が含まれます。
*   `Ctrl + C` (Mac の場合は `Cmd + C`) でAtCoder形式の入力をコピーできます（入力フィールドにフォーカスがある場合は除く）。コピー時にはスナックバーで通知されます。
*   `Ctrl` または `Cmd` キーが押されている間は、選択中の文字が変更されません。

### その他

*   **ヘッダー**: アプリケーションのタイトルと、テストケース編集画面、グリッドエディタ画面へのナビゲーションリンクを含むヘッダーを追加しました。

## ディレクトリ構造

*   `client/`: フロントエンドのReactアプリケーション
*   `server/`: バックエンドのExpressサーバー
*   `start.sh`: 開発サーバーを起動するためのスクリプト

## APIエンドポイント

*   `GET /api/tests?contest=<contest>&problem=<problem>`: 指定されたコンテストと問題のテストケース一覧を取得します。
*   `GET /api/test/:filename(*)`: 指定されたテストケースのファイルの内容を取得します。
*   `POST /api/test/:filename(*)`: 指定されたテストケースのファイルに内容を書き込みます。
*   `POST /api/rename`: サンプル名を変更します。リクエストボディ: `{ contest, problem, oldName, newName }`
*   `DELETE /api/sample?contest=<contest>&problem=<problem>&name=<name>`: 指定されたサンプルを削除します。
*   `POST /api/duplicate`: 指定されたサンプルを複製します。リクエストボディ: `{ contest, problem, originalName, newName? }`

## 実行方法

```bash
./start.sh
```

これにより、フロントエンド（`http://localhost:3000`）とバックエンド（`http://localhost:3001`）が起動します。

## 補足

*   **Gitコミットについて:** Geminiは自動的に`git commit`を行いません。変更をコミットする必要がある場合は、手動で実行してください。
*   **仕様変更時のドキュメント更新:** 新しい仕様を実装した場合は、この`GEMINI.md`も合わせて更新してください。
*   **言語について**: 日本語を使ってください

## 今後の改善案 (検討中)

*   **UI/UX:**
    *   ダークモード
    *   キーボードショートカットの拡張 (Tabキーでの編集部分切り替えなど)
    *   視覚的な空白文字表示 (行末の空白の可視化など)
    *   入力データの構造化表示と編集 (グリッドエディタなど)
